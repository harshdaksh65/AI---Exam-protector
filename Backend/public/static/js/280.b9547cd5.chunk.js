"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[280],{6768:(e,r,t)=>{t.d(r,{Z:()=>o});t(2791);var n=t(4270),i=t(184);const o=e=>{let{title:r,description:t,children:o}=e;return(0,i.jsxs)("div",{children:[(0,i.jsxs)(n.q,{children:[(0,i.jsx)("title",{children:r}),(0,i.jsx)("meta",{name:"description",content:t})]}),o]})}},6742:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(3063),i=(t(2791),t(6934)),o=t(6241),a=t(184);const l=(0,i.ZP)((e=>(0,a.jsx)(o.Z,(0,n.Z)({},e))))((e=>{let{theme:r}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:r.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:r.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:r.palette.grey[200]}}}))},9685:(e,r,t)=>{t.d(r,{Z:()=>l});var n=t(1087),i=t(6934),o=t(184);const a=(0,i.ZP)(n.rU)((()=>({height:"100px",width:"260px",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",margin:"0 auto",textDecoration:"none"}))),l=()=>(0,o.jsx)(a,{to:"/",children:(0,o.jsx)("img",{src:"/dark-logo.svg",alt:"Exam Shield Logo",height:100})})},991:(e,r,t)=>{t.d(r,{YA:()=>a,_y:()=>l,kD:()=>d,l4:()=>s});var n=t(6996);const i="/api/users",o=n.g.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"".concat(i,"/auth"),method:"POST",body:e})}),register:e.mutation({query:e=>({url:"".concat(i),method:"POST",body:e})}),logout:e.mutation({query:()=>({url:"".concat(i,"/logout"),method:"POST"})}),updateUser:e.mutation({query:e=>({url:"".concat(i,"/profile"),method:"PUT",body:e})})})}),{useLoginMutation:a,useLogoutMutation:l,useRegisterMutation:s,useUpdateUserMutation:d}=o},5318:(e,r,t)=>{t.d(r,{Z:()=>a});t(2791);var n=t(9964),i=t(3239),o=t(184);function a(){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.Z,{open:!0,sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},children:(0,o.jsx)(i.Z,{color:"inherit"})})})}},9280:(e,r,t)=>{t.r(r),t.d(r,{default:()=>Z});t(2791);var n=t(4554),i=t(1889),o=t(7621),a=t(890),l=t(6768),s=(t(9685),t(5705)),d=t(8007),u=t(5048),m=t(5206),c=t(991),h=t(1126),p=(t(5318),t(9321)),x=t(7865),f=t(6151),w=t(6742),g=t(9369),v=t(184);const b=e=>{let{formik:r,title:t,subtitle:i,subtext:o}=e;const{values:l,errors:s,touched:d,handleBlur:u,handleChange:m,handleSubmit:c}=r;return(0,v.jsxs)(v.Fragment,{children:[t?(0,v.jsx)(a.Z,{fontWeight:"700",variant:"h2",mb:1,children:t}):null,o,(0,v.jsxs)(n.Z,{component:"form",children:[(0,v.jsxs)(g.Z,{mb:3,children:[(0,v.jsx)(a.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"name",mb:"5px",children:"Name"}),(0,v.jsx)(w.Z,{id:"name",name:"name",placeholder:"Enter Your Name ",variant:"outlined",value:l.name,onChange:m,onBlur:u,error:!(!d.name||!s.name),helperText:d.name&&s.name?s.name:null,fullWidth:!0,required:!0}),(0,v.jsx)(a.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"email",mb:"5px",mt:"25px",children:"Email Address"}),(0,v.jsx)(w.Z,{id:"email",name:"email",variant:"outlined",placeholder:"Enter Your Email",value:l.email,onChange:m,onBlur:u,error:!(!d.email||!s.email),helperText:d.email&&s.email?s.email:null,required:!0,fullWidth:!0}),(0,v.jsx)(a.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",mt:"25px",children:"Password"}),(0,v.jsx)(w.Z,{id:"password",name:"password",type:"password",variant:"outlined",value:l.password,onChange:m,onBlur:u,error:!(!d.password||!s.password),helperText:d.password&&s.password?s.password:null,required:!0,fullWidth:!0}),(0,v.jsx)(a.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"confirm_password",mb:"5px",mt:"25px",children:"Confirm Password"}),(0,v.jsx)(w.Z,{id:"confirm_password",name:"confirm_password",type:"password",autoComplete:"false",variant:"outlined",value:l.confirm_password,onChange:m,onBlur:u,error:!(!d.confirm_password||!s.confirm_password),helperText:d.confirm_password&&s.confirm_password?s.confirm_password:null,fullWidth:!0,required:!0}),(0,v.jsx)(a.Z,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"role",mb:"5px",mt:"25px",children:"Role"}),(0,v.jsxs)(p.Z,{id:"role",name:"role",required:!0,displayEmpty:!0,value:l.role,onChange:m,onBlur:u,error:!(!d.role||!s.role),children:[(0,v.jsx)(x.Z,{value:"student",children:"Student"}),(0,v.jsx)(x.Z,{value:"teacher",children:"Teacher"})]})]}),(0,v.jsx)(f.Z,{color:"primary",variant:"contained",size:"large",fullWidth:!0,onClick:c,children:"Update"})]}),i]})},j=d.Ry({name:d.Z_().min(2).max(25).required("Please enter your name"),email:d.Z_("Enter your email").email("Enter a valid email").required("Email is required"),password:d.Z_("Enter your password").min(2,"Password should be of minimum 8 characters length").required("Password is required"),confirm_password:d.Z_().required("Confirm Password is required").oneOf([d.iH("password"),null],"Password must match"),role:d.Z_().oneOf(["student","teacher"],"Invalid role").required("Role is required")}),Z=()=>{const{userInfo:e}=(0,u.v9)((e=>e.auth)),r={name:e.name||"",email:e.email||"",password:e.password||"",confirm_password:"",role:e.role||"student"},t=(0,s.TA)({initialValues:r,validationSchema:j,onSubmit:(e,r)=>{f(e)}}),d=(0,u.I0)(),[p,{isLoading:x}]=(0,c.kD)(),f=async r=>{let{name:t,email:n,password:i,confirm_password:o,role:a}=r;if(i!==o)m.Am.error("Passwords do not match");else try{const r=await p({_id:e._id,name:t,email:n,password:i,role:a}).unwrap();d((0,h.Dj)(r)),m.Am.success("Profile updated successfully")}catch(s){var l;m.Am.error((null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||s.error)}};return(0,v.jsx)(l.Z,{title:"UserAccount",description:"this is UserAccount page",children:(0,v.jsx)(n.Z,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:(0,v.jsx)(i.ZP,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:(0,v.jsx)(i.ZP,{item:!0,xs:12,sm:12,lg:12,xl:6,display:"flex",justifyContent:"center",alignItems:"center",children:(0,v.jsx)(o.Z,{elevation:9,sx:{p:4,zIndex:1,width:"100%",maxWidth:"500px"},children:(0,v.jsx)(b,{formik:t,onSubmit:f,title:(0,v.jsx)(a.Z,{variant:"h3",textAlign:"center",color:"textPrimary",mb:1,children:"Update Account Info"})})})})})})})}}}]);
//# sourceMappingURL=280.b9547cd5.chunk.js.map