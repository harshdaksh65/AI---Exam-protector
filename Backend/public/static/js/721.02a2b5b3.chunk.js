"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[721],{6768:(e,t,a)=>{a.d(t,{Z:()=>i});a(2791);var n=a(4270),s=a(184);const i=e=>{let{title:t,description:a,children:i}=e;return(0,s.jsxs)("div",{children:[(0,s.jsxs)(n.q,{children:[(0,s.jsx)("title",{children:t}),(0,s.jsx)("meta",{name:"description",content:a})]}),i]})}},9637:(e,t,a)=>{a.d(t,{Z:()=>c});a(2791);var n=a(7621),s=a(9504),i=a(890),o=a(3767),r=a(4554),d=a(184);const c=e=>{let{title:t,subtitle:a,children:c,action:l,footer:u,cardheading:p,headtitle:m,headsubtitle:h,middlecontent:x}=e;return(0,d.jsxs)(n.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[p?(0,d.jsxs)(s.Z,{children:[(0,d.jsx)(i.Z,{variant:"h5",children:m}),(0,d.jsx)(i.Z,{variant:"subtitle2",color:"textSecondary",children:h})]}):(0,d.jsxs)(s.Z,{sx:{p:"30px"},children:[t?(0,d.jsxs)(o.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,d.jsxs)(r.Z,{children:[t?(0,d.jsx)(i.Z,{variant:"h5",children:t}):"",a?(0,d.jsx)(i.Z,{variant:"subtitle2",color:"textSecondary",children:a}):""]}),l]}):null,c]}),x,u]})}},3980:(e,t,a)=>{a.d(t,{Qp:()=>o,ev:()=>r});var n=a(6996);const s="/api/exams",i=n.g.injectEndpoints({endpoints:e=>({getCheatingLogs:e.query({query:e=>({url:"".concat(s,"/cheatingLogs/").concat(e),method:"GET"})}),saveCheatingLog:e.mutation({query:e=>({url:"".concat(s,"/cheatingLogs"),method:"POST",body:e})})})}),{useGetCheatingLogsQuery:o,useSaveCheatingLogMutation:r}=i},1105:(e,t,a)=>{a.d(t,{C:()=>c,DB:()=>d,Xf:()=>o,uZ:()=>r});var n=a(6996);const s="/api/exams",i=n.g.injectEndpoints({endpoints:e=>({getExams:e.query({query:()=>({url:"".concat(s,"/exam"),method:"GET"})}),createExam:e.mutation({query:e=>({url:"".concat(s,"/exam"),method:"POST",body:e})}),getQuestions:e.query({query:e=>({url:"".concat(s,"/exam/questions/").concat(e),method:"GET"})}),createQuestion:e.mutation({query:e=>({url:"".concat(s,"/exam/questions"),method:"POST",body:e})})})}),{useGetExamsQuery:o,useCreateExamMutation:r,useGetQuestionsQuery:d,useCreateQuestionMutation:c}=i},5282:(e,t,a)=>{a.d(t,{CP:()=>r,Mt:()=>d,vL:()=>o});var n=a(6996);const s="/api/results",i=n.g.injectEndpoints({endpoints:e=>({getResultsByExam:e.query({query:e=>({url:"".concat(s,"/exam/").concat(e),method:"GET"})}),getStudentResults:e.query({query:e=>({url:"".concat(s,"/student/").concat(e),method:"GET"}),providesTags:[{type:"StudentResults"}]}),submitStudentResult:e.mutation({query:e=>{let{studentId:t,examId:a,answers:n}=e;return{url:"".concat(s,"/student"),method:"POST",body:{studentId:t,examId:a,answers:n}}}}),updateResultStatus:e.mutation({query:e=>{let{resultId:t,status:a,updatedBy:n}=e;return{url:"".concat(s,"/").concat(t),method:"PUT",body:{status:a,updatedBy:n}}},invalidatesTags:[{type:"StudentResults"}]})})}),{useGetStudentResultsQuery:o,useUpdateResultStatusMutation:r,useSubmitStudentResultMutation:d,useGetResultsByExamQuery:c}=i},7721:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var n=a(2791),s=a(1105),i=a(890),o=a(6768),r=a(9637),d=a(3063),c=a(5048),l=a(5282),u=a(4554),p=a(9321),m=a(7865),h=a(6241),x=a(9281),g=a(5527),v=a(6831),Z=a(6890),b=a(5855),y=a(3994),f=a(3382),j=a(6996);const C=j.g.injectEndpoints({endpoints:e=>({getResultsByIds:e.query({query:e=>({url:"".concat("/api/results","/batch"),method:"POST",body:{resultIds:e}})})})}),{useGetResultsByIdsQuery:I}=C;var S=a(7689),E=a(3980),L=a(184);function q(e){let{selectedExamId:t,setSelectedExamId:a}=e;const i=(0,S.s0)(),[o,r]=(0,n.useState)(""),[j,C]=(0,n.useState)([]),[q,w]=(0,n.useState)({}),{userInfo:R}=(0,c.v9)((e=>e.auth)),[M,{isLoading:O}]=(0,l.CP)(),{data:T}=(0,s.Xf)(),k=!t,{data:F,isLoading:G}=(0,E.Qp)(t,{skip:k});(0,n.useEffect)((()=>{T&&T.length>0&&a(T[0].examId)}),[T]),(0,n.useEffect)((()=>{if(F){console.log("Fetched cheatingLogsData:",F),C(F);const e={};F.forEach((t=>{e[t._id]=t.resultStatus||"pending"})),w(e)}}),[F]);const P=j.filter((e=>e.username.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())));(0,n.useEffect)((()=>{console.log("Filtered cheating logs for table:",P)}),[P]);const B=P.map((e=>e.resultId)).filter(Boolean),{data:Q,isLoading:N}=I(B,{skip:0===B.length});return(0,n.useEffect)((()=>{if(Q){const e=(0,d.Z)({},q);P.forEach((t=>{const a=Q.find((e=>e._id===t.resultId)),n=(null===a||void 0===a?void 0:a.status)||"pending";t.resultId&&n!==q[t._id]&&(e[t._id]=n)})),w(e)}}),[Q]),(0,L.jsxs)(u.Z,{children:[(0,L.jsx)(p.Z,{label:"Select Exam",value:t,onChange:e=>{a(e.target.value)},fullWidth:!0,sx:{mb:2},children:T&&T.map((e=>(0,L.jsx)(m.Z,{value:e.examId,children:e.examName},e.examId)))}),(0,L.jsx)(h.Z,{label:"Filter by Name or Email",variant:"outlined",fullWidth:!0,margin:"normal",value:o,onChange:e=>r(e.target.value)}),(0,L.jsx)(x.Z,{component:g.Z,children:(0,L.jsxs)(v.Z,{children:[(0,L.jsx)(Z.Z,{children:(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(y.Z,{children:"Sno"}),(0,L.jsx)(y.Z,{children:"Name"}),(0,L.jsx)(y.Z,{children:"Email"}),(0,L.jsx)(y.Z,{children:"No Face Count"}),(0,L.jsx)(y.Z,{children:"Multiple Face Count"}),(0,L.jsx)(y.Z,{children:"Cell Phone Count"}),(0,L.jsx)(y.Z,{children:"Prohibited Object Count"}),(0,L.jsx)(y.Z,{children:"Score (%)"}),(0,L.jsx)(y.Z,{children:"Result Status"})]})}),(0,L.jsx)(f.Z,{children:P.map(((e,a)=>{const n=null===Q||void 0===Q?void 0:Q.find((t=>t._id===e.resultId)),s=(null===n||void 0===n||n.status,void 0!==(null===n||void 0===n?void 0:n.score)?"".concat(n.score,"%"):"--");return(0,L.jsxs)(b.Z,{children:[(0,L.jsx)(y.Z,{children:a+1}),(0,L.jsx)(y.Z,{children:e.username}),(0,L.jsx)(y.Z,{children:e.email}),(0,L.jsx)(y.Z,{children:e.noFaceCount}),(0,L.jsx)(y.Z,{children:e.multipleFaceCount}),(0,L.jsx)(y.Z,{children:e.cellPhoneCount}),(0,L.jsx)(y.Z,{children:e.prohibitedObjectCount}),(0,L.jsx)(y.Z,{children:s}),(0,L.jsx)(y.Z,{children:(0,L.jsxs)(u.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,L.jsxs)(p.Z,{value:q[e._id]||"pending",onChange:t=>{w((a=>(0,d.Z)((0,d.Z)({},a),{},{[e._id]:t.target.value})))},size:"small",disabled:!e.resultId||N,children:[(0,L.jsx)(m.Z,{value:"pending",children:"Pending"}),(0,L.jsx)(m.Z,{value:"pass",children:"Pass"}),(0,L.jsx)(m.Z,{value:"fail",children:"Fail"}),(0,L.jsx)(m.Z,{value:"cheater",children:"Cheater"})]}),(0,L.jsx)("button",{style:{padding:"4px 12px",borderRadius:"4px",background:"#615DFF",color:"#fff",border:"none",cursor:"pointer"},disabled:O||!e.resultId,onClick:async()=>{var t;if(!e.resultId)return void alert("Result ID missing! Cannot update status.");const a=q[e._id],n=await M({resultId:e.resultId,status:a,updatedBy:null===R||void 0===R?void 0:R._id});null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.status&&w((t=>(0,d.Z)((0,d.Z)({},t),{},{[e._id]:n.data.status})))},children:e.resultId?O?"Updating...":"Update":"No Result"}),(0,L.jsx)("button",{style:{padding:"4px 12px",borderRadius:"4px",background:"#2D9CDB",color:"#fff",border:"none",cursor:"pointer"},onClick:()=>i("/teacher/snapshots/".concat(e.studentId||e._id,"/").concat(t)),children:"View Webcam"})]})})]},a)}))})]})})]})}const w=()=>{const[e,t]=(0,n.useState)(""),{data:a,isLoading:d}=(0,s.Xf)();return(0,n.useEffect)((()=>{a&&a.length>0&&!e&&t(a[0].examId)}),[a,e]),d||!e?(0,L.jsx)(i.Z,{children:"Loading exams..."}):(0,L.jsx)(o.Z,{title:"ExamLog Page",description:"this is ExamLog page",children:(0,L.jsxs)(r.Z,{title:"ExamLog Page",children:[(0,L.jsx)(i.Z,{children:"This is a ExamLog page"}),(0,L.jsx)(q,{selectedExamId:e,setSelectedExamId:t})]})})}},6014:(e,t,a)=>{a.d(t,{Z:()=>o,f:()=>i});var n=a(5878),s=a(1217);function i(e){return(0,s.Z)("MuiListItemIcon",e)}const o=(0,n.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},9849:(e,t,a)=>{a.d(t,{L:()=>i,Z:()=>o});var n=a(5878),s=a(1217);function i(e){return(0,s.Z)("MuiListItemText",e)}const o=(0,n.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},7865:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(3366),s=a(7462),i=a(2791),o=a(8182),r=a(4419),d=a(2065),c=a(6934),l=a(1402),u=a(9480),p=a(9658),m=a(162),h=a(2071),x=a(5878);const g=(0,x.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var v=a(6014),Z=a(9849),b=a(1217);function y(e){return(0,b.Z)("MuiMenuItem",e)}const f=(0,x.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var j=a(184);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],I=(0,c.ZP)(p.Z,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,s.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(f.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(f.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(f.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,d.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(f.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(f.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(g.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(g.inset)]:{marginLeft:52},["& .".concat(Z.Z.root)]:{marginTop:0,marginBottom:0},["& .".concat(Z.Z.inset)]:{paddingLeft:36},["& .".concat(v.Z.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,s.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(v.Z.root," svg")]:{fontSize:"1.25rem"}}))})),S=i.forwardRef((function(e,t){const a=(0,l.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:d=!1,component:c="li",dense:p=!1,divider:x=!1,disableGutters:g=!1,focusVisibleClassName:v,role:Z="menuitem",tabIndex:b,className:f}=a,S=(0,n.Z)(a,C),E=i.useContext(u.Z),L=i.useMemo((()=>({dense:p||E.dense||!1,disableGutters:g})),[E.dense,p,g]),q=i.useRef(null);(0,m.Z)((()=>{d&&q.current&&q.current.focus()}),[d]);const w=(0,s.Z)({},a,{dense:L.dense,divider:x,disableGutters:g}),R=(e=>{const{disabled:t,dense:a,divider:n,disableGutters:i,selected:o,classes:d}=e,c={root:["root",a&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",o&&"selected"]},l=(0,r.Z)(c,y,d);return(0,s.Z)({},d,l)})(a),M=(0,h.Z)(q,t);let O;return a.disabled||(O=void 0!==b?b:-1),(0,j.jsx)(u.Z.Provider,{value:L,children:(0,j.jsx)(I,(0,s.Z)({ref:M,role:Z,tabIndex:O,component:c,focusVisibleClassName:(0,o.Z)(R.focusVisible,v),className:(0,o.Z)(R.root,f)},S,{ownerState:w,classes:R}))})}))}}]);
//# sourceMappingURL=721.02a2b5b3.chunk.js.map